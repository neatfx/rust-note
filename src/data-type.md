# 数据类型

Rust 是静态类型语言，编译时必须知道所有变量的类型，编译器通常可以自动推断类型，但当类型有多种可能性无法推断时，必须添加类型注解。

Rust 含两类数据类型子集：标量（ scalar ）和复合（ compound ）

## 标量

代表一个单独的值，Rust 有四种基本的标量类型：

### 整型

数字类型默认是 i32，它通常是最快的，甚至在 64 位系统上也是

### 浮点型

单精度浮点数 `f32`、双单精度浮点数 `f64` （ 默认类型 ）

### 布尔类型

Rust 中的布尔类型使用 `bool`，有两个可能的值：`true` 和 `false`

### 字符类型

`char` 类型是 Rust 中最原生的字母类型，注意 `char` 由单引号指定，不同于字符串使用双引号

## 复合

由多个值组合成一个类型，Rust 有两个原生复合类型：元组 ( tuple )、数组 ( array )

### 元组

可包含多个不同类型的值

#### 访问元组的值

- 利用模式匹配进行解构
- 使用点语法通过索引访问值

```rust
fn main() {
    let tup = (500, 6.4, 1);

    let (x, y, z) = tup; // 解构

    println!("The value of y is: {}", y);
}
```

```rust
fn main() {
    let x: (i32, f64, u8) = (500, 6.4, 1);

    let five_hundred = x.0;

    let six_point_four = x.1;

    let one = x.2;
}
```

### 数组

#### 类型定义

[type; number] => [元素类型；数组长度]

数组元素类型必须一致，长度固定，一旦声明无法改变

```rust
let a: [i32; 5] = [1, 2, 3, 4, 5];
```

#### 访问数组元素

数组是一整块分配在栈上的内存，可使用索引来访问数组的元素

```rust
fn main() {
    let a = [1, 2, 3, 4, 5];

    let first = a[0];
    let second = a[1];
}
```

#### 数组 vs `vector`

`vector` 是由标准库提供，类似数组但是长度可变的集合类型。

#### 数组越界

在访问无效的数组元素时，会产生运行时错误，而非编译时错误，程序 Panic
